---
description: 
globs: 
alwaysApply: true
---
# üïâÔ∏è –ü—Ä–∞–≤–∏–ª–æ: –†–∞—Å—á–µ—Ç –∏ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¶–µ–Ω—ã –≤ –ó–≤–µ–∑–¥–∞—Ö ‚≠ê

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö - –∑–∞–ª–æ–≥ –≥–∞—Ä–º–æ–Ω–∏–∏.

**1. –ü–æ–∏—Å–∫ –ü–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ü–ï–†–ï–î –†–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π:**
   - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ü—Ä–µ–∂–¥–µ —á–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ª—é–±—É—é –ª–æ–≥–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ä–∞—Å—á–µ—Ç–æ–º –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ü–µ–Ω/–±–∞–ª–∞–Ω—Å–∞, **–ò–°–ü–û–õ–¨–ó–£–ô –ü–û–ò–°–ö** (`grep`, —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫) –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ.
   - **–ê–î–ê–ü–¢–ò–†–£–ô** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è, –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π –Ω–æ–≤—ã–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –ò—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `[@/price/helpers](mdc:src/price/helpers)`, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ `[@/price/constants/index.ts](mdc:src/price/constants/index.ts)`.

**2. –ü–†–ê–í–ò–õ–¨–ù–´–ô –†–∞—Å—á–µ—Ç –§–∏–Ω–∞–ª—å–Ω–æ–π –¶–µ–Ω—ã –≤ –ó–≤–µ–∑–¥–∞—Ö:**
   - **–ü–æ—Ä—è–¥–æ–∫:**
      1. –ü–æ–ª—É—á–∏ –±–∞–∑–æ–≤—É—é —Ü–µ–Ω—É –º–æ–¥–µ–ª–∏ –≤ **–¥–æ–ª–ª–∞—Ä–∞—Ö** (`basePrice` –∏–∑ `[@/config/models.config.ts](mdc:src/config/models.config.ts)`).
      2. –ü–µ—Ä–µ–≤–µ–¥–∏ –¥–æ–ª–ª–∞—Ä—ã –≤ **–∑–≤–µ–∑–¥—ã** (—Ä–∞–∑–¥–µ–ª–∏–≤ –Ω–∞ `SYSTEM_CONFIG.starCost` –∏–∑ `[@/price/constants/index.ts](mdc:src/price/constants/index.ts)`).
      3. –ü—Ä–∏–º–µ–Ω–∏ **–Ω–∞—Ü–µ–Ω–∫—É** (—É–º–Ω–æ–∂–∏–≤ –Ω–∞ `(1 + SYSTEM_CONFIG.interestRate)` –∏–∑ `[@/price/constants/index.ts](mdc:src/price/constants/index.ts)`).
      4. **–û–∫—Ä—É–≥–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –í–ù–ò–ó** –¥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ (`Math.floor()`).
   - **–§—É–Ω–∫—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π –∏–ª–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `calculateFinalPrice` –≤ `[src/price/helpers/calculateFinalPrice.ts](mdc:src/price/helpers/calculateFinalPrice.ts)` –¥–ª—è —ç—Ç–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞.

**3. –ü–†–ê–í–ò–õ–¨–ù–û–ï –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¶–µ–Ω—ã –Ω–∞ –ö–Ω–æ–ø–∫–∞—Ö:**
   - **–§–æ—Ä–º–∞—Ç:** `–ù–∞–∑–≤–∞–Ω–∏–µ –ú–æ–¥–µ–ª–∏ (–†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è–¶–µ–Ω–∞ ‚≠ê)`
   - **–≠–º–æ–¥–∑–∏:** –ò—Å–ø–æ–ª—å–∑—É–π **–¢–û–õ–¨–ö–û** —ç–º–æ–¥–∑–∏ ‚≠ê (U+2B50), –∞ –Ω–µ —Å–∏–º–≤–æ–ª ‚òÖ.
   - **–ú–µ—Å—Ç–æ:** –ü—Ä–∏–º–µ–Ω—è–π —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, `videoModelKeyboard` –≤ `[src/menu/videoModelMenu.ts](mdc:src/menu/videoModelMenu.ts)`.

**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –∏ –±–∞–ª–∞–Ω—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

*–û–º –®–∞–Ω—Ç–∏. –ë—É–¥—å –≤–Ω–∏–º–∞—Ç–µ–ª–µ–Ω –∫ –î—Ö–∞—Ä–º–µ –∫–æ–¥–∞.* üôè
