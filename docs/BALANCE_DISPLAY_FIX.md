# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

### üîç –ü—Ä–æ–±–ª–µ–º–∞:

–í –±–∞–ª–∞–Ω—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–∞–∫ "‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ" –≤–º–µ—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π:

```
üõ†Ô∏è Services breakdown:
   1. ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ:
      üí∞ 476‚≠êÔ∏è (100%)
      üî¢ 1 operations

üìâ Recent expenses:
   1. üìâ 28.05.2025: 476‚≠êÔ∏è - ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ
```

### üîß –ü—Ä–∏—á–∏–Ω–∞:

–ü—Ä–æ–º–æ-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `service_type: 'start_scene'`, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–µ –∑–Ω–∞–ª–∞, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–π.

### üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ:

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

**–§–∞–π–ª:** `src/utils/serviceMapping.ts`

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è `start_scene` ‚Üí `PaymentOperation`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π

#### 2. –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏

```typescript
// –ü—Ä–æ–º–æ-–±–æ–Ω—É—Å—ã
if (desc.includes('promo bonus') || desc.includes('üéÅ')) {
  return UserService.PaymentOperation
}

// –ê–≤—Ç–æ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏  
if (desc.includes('auto-activated subscription')) {
  return UserService.PaymentOperation
}
```

#### 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

```typescript
export function getServiceDisplayTitle(service: UserService, description?: string): string {
  if (service === UserService.PaymentOperation && description) {
    const desc = description.toLowerCase()
    
    if (desc.includes('promo bonus')) {
      return '–ü—Ä–æ–º–æ-–±–æ–Ω—É—Å'
    }
    
    if (desc.includes('auto-activated subscription')) {
      return '–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏'
    }
  }
  // ...
}
```

#### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –≤ balanceScene

**–§–∞–π–ª:** `src/scenes/balanceScene/index.ts`

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `getServiceDisplayName()` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞
- ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–¢–µ–ø–µ—Ä—å –≤ –±–∞–ª–∞–Ω—Å–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

```
üõ†Ô∏è Services breakdown:
   1. üí≥ –ü—Ä–æ–º–æ-–±–æ–Ω—É—Å:
      üí∞ 476‚≠êÔ∏è (50%)
      üî¢ 1 operations
   
   2. üí≥ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏:
      üí∞ 476‚≠êÔ∏è (50%)
      üî¢ 1 operations

üìâ Recent expenses:
   1. üìâ 28.05.2025: 476‚≠êÔ∏è - üí≥ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –ø—Ä–æ–º–æ-–æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∞–≤—Ç–æ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π

```bash
‚úì 21 pass, 0 fail (63 expect() calls)
```

### üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

| –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ | service_type | –û–ø–∏—Å–∞–Ω–∏–µ | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ |
|--------------|-------------|----------|-------------|
| –ü—Ä–æ–º–æ-–±–æ–Ω—É—Å | `start_scene` | `üéÅ Promo bonus: 476 stars` | üí≥ –ü—Ä–æ–º–æ-–±–æ–Ω—É—Å |
| –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ | `start_scene` | `üéÅ Auto-activated subscription: NEUROPHOTO` | üí≥ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ |
| –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | `main_menu`, `balance_scene`, etc. | –õ—é–±–æ–µ | üí≥ –°–∏—Å—Ç–µ–º–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è |
| –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ | `unknown` | –õ—é–±–æ–µ | ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ |

### üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

- ‚úÖ –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—Ç–∞—Ä—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏

### üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º "‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ" –≤ –±–∞–ª–∞–Ω—Å–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π:

- **–ü—Ä–æ–º–æ-–±–æ–Ω—É—Å—ã** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ "üí≥ –ü—Ä–æ–º–æ-–±–æ–Ω—É—Å"
- **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ "üí≥ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏"
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** –∏–º–µ—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è

**–ë–∞–ª–∞–Ω—Å —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏ –ø–æ–Ω—è—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!** üéâ 