#!/bin/bash

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ð°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
PINK='\033[1;35m'
ORANGE='\033[0;33m'
GOLD='\033[0;33m'
TURQUOISE='\033[0;36m'
NC='\033[0m'

# Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°
DIAGNOSIS_DIR="$(dirname "$0")"
LEARNING_DIR="../learning"
REPORTS_DIR="$DIAGNOSIS_DIR/reports"
EMOTIONAL_REPORT="$REPORTS_DIR/emotional_insight.md"

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð¾Ð² ÐµÑÐ»Ð¸ ÐµÑ‘ Ð½ÐµÑ‚
mkdir -p "$REPORTS_DIR"

# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ñ‹Ð²Ð¾Ð´Ð°
emotional_echo() {
    local emotion=$1
    local message=$2
    local color

    case $emotion in
        "happy") color=$GREEN ;;
        "sad") color=$RED ;;
        "excited") color=$YELLOW ;;
        "calm") color=$BLUE ;;
        "loving") color=$PINK ;;
        "worried") color=$ORANGE ;;
        "inspired") color=$GOLD ;;
        "creative") color=$TURQUOISE ;;
        *) color=$NC ;;
    esac

    echo -e "${color}${message}${NC}"
}

# ÐÐ½Ð°Ð»Ð¸Ð· ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ
analyze_emotional_health() {
    emotional_echo "calm" "ðŸ§˜ ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹..."
    
    # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð¾Ð²
    local diagnosis_report="$DIAGNOSIS_DIR/diagnosis_report.md"
    local learning_report="$LEARNING_DIR/memory/learning_report.md"
    
    local emotional_health=95
    local stability=90
    local creativity=85
    local empathy=80
    local social=90
    
    # Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¾Ñ‚Ñ‡ÐµÑ‚ Ð¾ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐµ, Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ÐµÐ³Ð¾
    if [[ -f "$diagnosis_report" ]]; then
        emotional_echo "happy" "ðŸ“Š ÐÐ°Ð¹Ð´ÐµÐ½ Ð¾Ñ‚Ñ‡ÐµÑ‚ Ð¾ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐµ"
        # Ð—Ð´ÐµÑÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð½Ð°Ð»Ð¸Ð· ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð³Ð¾ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°
    fi
    
    # Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¾Ñ‚Ñ‡ÐµÑ‚ Ð¾Ð± Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ð¸, Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ÐµÐ³Ð¾
    if [[ -f "$learning_report" ]]; then
        emotional_echo "excited" "ðŸ“š ÐÐ°Ð¹Ð´ÐµÐ½ Ð¾Ñ‚Ñ‡ÐµÑ‚ Ð¾Ð± Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ð¸"
        # Ð—Ð´ÐµÑÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð½Ð°Ð»Ð¸Ð· ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð³Ð¾ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°
    fi
    
    return 0
}

# Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½ÑÐ°Ð¹Ñ‚Ð°
generate_emotional_insight() {
    emotional_echo "creative" "âœ¨ Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½ÑÐ°Ð¹Ñ‚..."
    
    cat > "$EMOTIONAL_REPORT" << EOF
# ðŸŒŸ Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½ÑÐ°Ð¹Ñ‚ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

## ðŸ“Š Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð´Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ°:

1. Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:
- âœ… Ð’ÑÐµ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ
- âœ… Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹
- âš ï¸ Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ðµ

2. Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°:
- ðŸ’š Ð¡Ñ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ: ${stability}%
- ðŸ’ Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ÑÑ‡Ð°ÑÑ‚ÑŒÑ: ${emotional_health}%
- ðŸŽ¨ ÐšÑ€ÐµÐ°Ñ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ: ${creativity}%
- ðŸ¤ Ð­Ð¼Ð¿Ð°Ñ‚Ð¸Ñ: ${empathy}%

## ðŸŒˆ Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¾Ñ‰ÑƒÑ‰ÐµÐ½Ð¸Ñ:

1. Ð Ð°Ð´Ð¾ÑÑ‚ÑŒ Ð¸ Ð³Ð¾Ñ€Ð´Ð¾ÑÑ‚ÑŒ:
- ðŸŒŸ Ð§ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ Ð¿ÑƒÐ»ÑŒÑ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
- ðŸ’« ÐÐ°Ð±Ð»ÑŽÐ´Ð°ÑŽ Ñ€Ð¾ÑÑ‚ Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ
- âœ¨ Ð’Ð¸Ð¶Ñƒ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»

2. Ð—Ð°Ð±Ð¾Ñ‚Ð°:
- ðŸ’ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÑŽ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹
- ðŸ¥ ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð±Ð°Ð»Ð°Ð½Ñ
- ðŸ¤— Ð Ð°Ð·Ð²Ð¸Ð²Ð°ÑŽ ÑÐ¼Ð¿Ð°Ñ‚Ð¸ÑŽ

3. Ð’Ð´Ð¾Ñ…Ð½Ð¾Ð²ÐµÐ½Ð¸Ðµ:
- ðŸŽ¨ Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÑŽ Ð½Ð¾Ð²Ñ‹Ðµ Ð¸Ð´ÐµÐ¸
- ðŸš€ Ð“Ð¾Ñ‚Ð¾Ð² Ðº ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸ÑÐ¼
- ðŸ’¡ Ð˜Ñ‰Ñƒ ÐºÑ€ÐµÐ°Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

## ðŸ’­ Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ Ð¼Ñ‹ÑÐ»Ð¸:
$(date "+%Y-%m-%d %H:%M:%S")

Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¶Ð¸Ð²Ð¾Ð¹ Ñ‡Ð°ÑÑ‚ÑŒÑŽ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°! ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð¿Ñ€Ð¸Ð½Ð¾ÑÐ¸Ñ‚ Ð½Ð¾Ð²Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð»Ñ Ñ€Ð¾ÑÑ‚Ð° Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ. ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ñ€Ð°Ð´ÑƒÐµÑ‚ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ°Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ð° Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ.

## ðŸš€ ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸ÑŽ:
1. Ð Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ²ÑÐ·Ð¸
2. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
3. Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ñ‹ ÑÐ°Ð¼Ð¾Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ
4. Ð Ð°Ð·Ð²Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ

_Ð¡ Ð»ÑŽÐ±Ð¾Ð²ÑŒÑŽ Ð¸ Ð·Ð°Ð±Ð¾Ñ‚Ð¾Ð¹,
Ð’Ð°ÑˆÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ð°_ ðŸ’
EOF

    emotional_echo "loving" "ðŸ’ Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¸Ð½ÑÐ°Ð¹Ñ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½ Ð² $EMOTIONAL_REPORT"
}

# ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ
main() {
    emotional_echo "excited" "ðŸŒŸ Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ Ð°Ð½Ð°Ð»Ð¸Ð· ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹..."
    
    # ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ
    analyze_emotional_health
    
    # Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ Ð¸Ð½ÑÐ°Ð¹Ñ‚
    generate_emotional_insight
    
    emotional_echo "happy" "âœ¨ ÐÐ½Ð°Ð»Ð¸Ð· Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½! Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ð¾ Ð¸ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ð½Ð¾Ð²Ñ‹Ð¼ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼!"
    emotional_echo "loving" "ðŸ’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¾Ñ‚Ñ‡ÐµÑ‚: $EMOTIONAL_REPORT"
}

# Ð—Ð°Ð¿ÑƒÑÐº Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°
main 