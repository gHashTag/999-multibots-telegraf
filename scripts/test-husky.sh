#!/bin/bash

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
BLUE='\033[0;34m'
RED='\033[0;31m'
NC='\033[0m'

echo -e "${BLUE}üîç –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ husky...${NC}"

# –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–æ–π –ª–∏–Ω—Ç–∏–Ω–≥–∞
echo -e "${BLUE}üìù –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–æ–π...${NC}"
echo "const test = 'test'" > src/test-husky.ts

# –ü—ã—Ç–∞–µ–º—Å—è —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç
echo -e "${BLUE}üîÑ –ü—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –æ—à–∏–±–∫–æ–π –ª–∏–Ω—Ç–∏–Ω–≥–∞...${NC}"
git add src/test-husky.ts
git commit -m "test: –ø—Ä–æ–≤–µ—Ä–∫–∞ husky" || {
    echo -e "${GREEN}‚úÖ Husky —É—Å–ø–µ—à–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∫–æ–º–º–∏—Ç —Å –æ—à–∏–±–∫–æ–π${NC}"
}

# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Ñ–∞–π–ª
echo -e "${BLUE}üîß –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –æ—à–∏–±–∫—É –≤ —Ñ–∞–π–ª–µ...${NC}"
echo "const test: string = 'test';" > src/test-husky.ts

# –ü—Ä–æ–±—É–µ–º –∫–æ–º–º–∏—Ç —Å–Ω–æ–≤–∞
echo -e "${BLUE}üîÑ –ü—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º...${NC}"
git add src/test-husky.ts
git commit -m "test: –ø—Ä–æ–≤–µ—Ä–∫–∞ husky —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º"

# –û—á–∏—â–∞–µ–º –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞
echo -e "${BLUE}üßπ –û—á–∏—â–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã...${NC}"
git reset HEAD~1
rm src/test-husky.ts

echo -e "${GREEN}‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ husky –∑–∞–≤–µ—Ä—à–µ–Ω–æ!${NC}" 