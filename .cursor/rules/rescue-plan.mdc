---
description: 
globs: 
alwaysApply: false
---
# üÜò –ü–ª–∞–Ω –°–ø–∞—Å–µ–Ω–∏—è: –í–æ–∑–≤—Ä–∞—Ç –∫ –†–∞–±–æ—á–µ–º—É –°–æ—Å—Ç–æ—è–Ω–∏—é üÜò

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –≠–¢–û –ê–í–ê–†–ò–ô–ù–´–ô –ü–õ–ê–ù! –ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨ –ö–û–ù–§–ò–ì–ò –ù–ò–ñ–ï! ‚ö†Ô∏è**

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —à–∞–≥–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∏–∑–≤–µ—Å—Ç–Ω–æ–º—É —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞.

**–ò–∑–≤–µ—Å—Ç–Ω—ã–π –°—Ç–∞–±–∏–ª—å–Ω—ã–π –ö–æ–º–º–∏—Ç: `9da4467` (upload / angel-1)**

## üìù –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

1.  **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç:**
    *   **–õ–æ–∫–∞–ª—å–Ω–æ:** `git checkout 9da4467`
    *   **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:** `ssh -i ~/.ssh/id_rsa root@<YOUR_SERVER_IP> 'cd /opt/app/999-multibots-telegraf && git fetch origin && git checkout 9da4467 && git reset --hard origin/stable-angel1'` (–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git checkout 9da4467`, –µ—Å–ª–∏ –≤–µ—Ç–∫–∞ `stable-angel1` –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å).

2.  **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
    *   –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: `bash scripts/restore-configs.sh`
    *   –≠—Ç–æ —Å–∫–æ–ø–∏—Ä—É–µ—Ç **–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –≤–µ—Ä—Å–∏–∏** `Dockerfile`, `docker-compose.yml`, `tsconfig.json`, `package.json`, `src/bot.ts`, `src/config/index.ts` –∏ –∫–∞—Ç–∞–ª–æ–≥ `nginx-config` –∏–∑ –ø–∞–ø–∫–∏ `config_backup/` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.
    *   **–í–ê–ñ–ù–û:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`/opt/app/999-multibots-telegraf/.env`). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤ –∏ –∫–ª—é—á–∏ API –∞–∫—Ç—É–∞–ª—å–Ω—ã (—Å–º. —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∏–∂–µ).
    *   **–í–ê–ñ–ù–û:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`/etc/nginx/nginx.conf` –∏ —Ñ–∞–π–ª—ã –≤ `/etc/nginx/conf.d/`). –û–Ω–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ø–æ—Ä—Ç–∞–º, —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ `docker-compose.yml`.

3.  **–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª–Ω—É—é –æ—á–∏—Å—Ç–∫—É –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
    ```bash
    ssh -i ~/.ssh/id_rsa root@<YOUR_SERVER_IP> '
    cd /opt/app/999-multibots-telegraf && \
    echo "=== üßπ –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ ===" && \
    docker-compose down && \
    docker system prune -af && \
    echo "\n=== üèóÔ∏è –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ ===" && \
    docker-compose build --no-cache && \
    docker-compose up -d && \
    echo "\n=== üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ ===" && \
    sleep 10 && \
    docker logs 999-multibots --tail 200
    '
    ```
    *–ó–∞–º–µ–Ω–∏—Ç–µ `<YOUR_SERVER_IP>` –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π IP –∏–ª–∏ —Ö–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞.* 

4.  **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏ —Ä–∞–±–æ—Ç—É –±–æ—Ç–æ–≤:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ª–æ–≥–∞—Ö –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (–∫—Ä–æ–º–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å —Ç–æ–∫–µ–Ω–æ–º `BOT_TOKEN_6` –∏ –ø–æ—Ä—Ç–æ–º `2999`) –∏ —á—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –±–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –≤ Telegram.

---

## ‚öìÔ∏è –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ö–æ–º–º–∏—Ç `9da4467`)

*–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤ (`Dockerfile`, `docker-compose.yml`, `tsconfig.json`, `package.json`, `src/bot.ts`, `src/config/index.ts`) –∏ –∫–∞—Ç–∞–ª–æ–≥–∞ `nginx-config` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `config_backup/` –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º `scripts/restore-configs.sh`.*

---

## üîë –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è (`.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

*–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `/opt/app/999-multibots-telegraf/.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç **–ê–ö–¢–£–ê–õ–¨–ù–´–ï** –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∏–∂–µ - –ø—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ù–ï –ö–û–ü–ò–†–û–í–ê–¢–¨!):*

```dotenv
NODE_ENV=production
API_PORT=2999
ORIGIN=https://<YOUR_DOMAIN_OR_IP>

# Telegram Bot Tokens
BOT_TOKEN_1=...
BOT_TOKEN_2=...
BOT_TOKEN_3=...
BOT_TOKEN_4=...
BOT_TOKEN_5=...
BOT_TOKEN_6=... # (–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å!)
BOT_TOKEN_7=...
BOT_TOKEN_TEST_1=...
BOT_TOKEN_TEST_2=... 
TEST_BOT_NAME=...
ADMIN_TELEGRAM_ID=...

# API Keys
OPENAI_API_KEY=sk-...
FAL_KEY=...
REPLICATE_API_TOKEN=r8_...
BFL_API_KEY=...
BFL_WEBHOOK_SECRET=...
APIFY_TOKEN=apify_api_...
CREATOMATE_API_KEY=...
SYNC_LABS_API_KEY=sk-...
RUNWAY_API_KEY=key_...
ELEVENLABS_API_KEY=sk_...
PIXEL_API_KEY=...
HUGGINGFACE_TOKEN=hf_...
DEEPSEEK_API_KEY=sk-...
OPENROUTER_API_KEY=sk-or-v1-...
ANTHROPIC_API_KEY=sk-ant-api03-...
E2B_API_KEY=e2b_...
GLAMA_API_KEY=glama_...
ZEP_API_KEY=z_...

# Supabase
SUPABASE_URL=https://....supabase.co
SUPABASE_SERVICE_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...
SUPABASE_KEY=eyJ...

# Robokassa
MERCHANT_LOGIN=...
PASSWORD1=...
PASSWORD2=...
RESULT_URL2=https://<YOUR_DOMAIN_OR_IP>/payment-success
# TEST_PASSWORD1=...
# TEST_PASSWORD2=...

# Pinata
PINATA_JWT=eyJ...
PINATA_GATEWAY=https://....mypinata.cloud

# Inngest
INNGEST_EVENT_KEY=...
INNGEST_URL=https://api.inngest.com
INNGEST_BASE_URL=https://api.inngest.com
INNGEST_SIGNING_KEY=signkey-test-...
# INNGEST_DEV=1 # (1 –¥–ª—è dev, 0 –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è prod)
USE_SERVE=true # (–∏–ª–∏ false, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∂–∏–º–∞ Inngest)

# Server/App Settings
SECRET_KEY=...
CREDENTIALS=true
LOG_FORMAT=combined
SECRET_API_KEY=...
SERVER_PORT=2999 # (–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –≤–µ–±—Ö—É–∫-—Å–µ—Ä–≤–µ—Ä–æ–º, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 2998)
WEBHOOK_DOMAIN=https://<YOUR_DOMAIN_OR_IP>
WEBHOOK_PATH=/webhook
BOT_PATH=/bot
MODE=webhook # (–∏–ª–∏ polling)
BOT_OWNER_ID=...

# Telegram API (–¥–ª—è Userbot/–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
TELEGRAM_API_HASH=...
TELEGRAM_API_ID=...
API_ID=...
API_HASH=...
PHONE_NUMBER=...

# GitHub (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Container Registry)
# GITHUB_USERNAME=...
# GITHUB_TOKEN=...

# –î—Ä—É–≥–∏–µ
NPM_TOKEN=npm_...

# (–£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ/—Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
# ELESTIO_URL=...
# TEST_TELEGRAM_ID=...
# ... –∏ –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è Elest.io –∏–ª–∏ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π