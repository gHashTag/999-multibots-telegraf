---
description: 
globs: 
alwaysApply: false
---
# üïâÔ∏è –¢–µ–∫—É—â–∞—è –ó–∞–¥–∞—á–∞: –ù–µ–π—Ä–æ–ö–æ–¥–µ—Ä

**–ü—Ä–∏–Ω—Ü–∏–ø:** –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤–µ–¥–µ—Ç –∫ —è—Å–Ω–æ—Å—Ç–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å —Ä–∞–±–æ—Ç—ã.

**–î–∞—Ç–∞ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è:** {current_date}

**–¢–µ–∫—É—â–∞—è –ó–∞–¥–∞—á–∞:** üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –¶–µ–Ω –∏ –ü–æ–¥–ø–∏—Å–æ–∫

*   **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ó–∞–≤–µ—Ä—à–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã —Ü–µ–Ω (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è). –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –µ—ë –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ª–æ–≥–∏–∫—É –ø–æ–¥–ø–∏—Å–æ–∫.
*   **–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞, —Å–ø–∏—Å–∞–Ω–∏–µ –∑–≤–µ–∑–¥ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª—é–±—ã–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏.
*   **–ö–ª—é—á–µ–≤—ã–µ –û–±–ª–∞—Å—Ç–∏ –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
    *   **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** –ö–æ–º–∞–Ω–¥–∞ `/price`, —Ü–µ–Ω—ã –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–µ–π (Image/Video).
    *   **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–∞–ª–∞–Ω—Å–∞:** –û—Ç–∫–∞–∑ –≤ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –±–∞–ª–∞–Ω—Å–µ.
    *   **–°–ø–∏—Å–∞–Ω–∏–µ –ó–≤–µ–∑–¥:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –ø–æ—Å–ª–µ –ø–ª–∞—Ç–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞, —Ü–µ–Ω–∞ –ø–æ –º–æ–¥–µ–ª–∏, —Ü–µ–Ω–∞ –ø–æ —à–∞–≥–∞–º, –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ).
    *   **–ü–æ–¥–ø–∏—Å–∫–∏:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (`getUserDetailsSubscription`) –∏ –µ–≥–æ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ).
    *   **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –†–µ–∂–∏–º—ã:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–∏—Å–∞–Ω–∏–π –∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
*   **–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –§–∞–π–ª—ã (–ö–ª—é—á–µ–≤—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):**
    *   `src/pricing/calculator/index.ts` (–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞)
    *   `src/pricing/config/pricing.config.ts`, `src/pricing/config/models.config.ts` (–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
    *   `src/commands/priceCommand/index.ts` (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ /price)
    *   `src/menu/videoModelMenu.ts`, `src/menu/imageModelMenu.ts` (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö)
    *   `src/scenes/checkBalanceScene.ts` (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º)
    *   `src/core/supabase/subscriptions/getUserDetailsSubscription.ts` (–°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏)
    *   –§—É–Ω–∫—Ü–∏–∏ —Å–ø–∏—Å–∞–Ω–∏—è (e.g., `src/core/supabase/balance/updateUserStarsBalance.ts`, `src/core/supabase/directPayment.ts` –∏ –º–µ—Å—Ç–∞ –∏—Ö –≤—ã–∑–æ–≤–∞)
    *   –°—Ü–µ–Ω—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (TextToImage, TextToVideo, DigitalAvatarBody –∏ –¥—Ä.)
*   **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ü—Ä–æ–±–ª–µ–º–∞:** –í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Ü–µ–Ω –Ω–∞ –≤–∏–¥–µ–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ –∫–Ω–æ–ø–∫–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º —Å–ø–∏—Å–∞–Ω–∏–µ–º (—Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ **–≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**).

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–ø–∏—Å–∞–Ω–∏—è —Ü–µ–Ω)

---
*–û–º –®–∞–Ω—Ç–∏. –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å —É–º –Ω–∞ —Ü–µ–ª–∏.* üôè
