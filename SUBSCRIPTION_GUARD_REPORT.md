# üõ°Ô∏è –û—Ç—á–µ—Ç –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∑–∞—â–∏—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –°–æ–∑–¥–∞–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã
- **–§–∞–π–ª**: `src/helpers/subscriptionGuard.ts`
- **–§—É–Ω–∫—Ü–∏—è**: `checkSubscriptionGuard(ctx, commandName)`
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –≤ dev —Ä–µ–∂–∏–º–µ
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ `subscriptionScene` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏
  - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

### 2. –ó–∞—â–∏—â–µ–Ω—ã –í–°–ï —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
**–ö–æ–º–∞–Ω–¥—ã —Å –∑–∞—â–∏—Ç–æ–π:**
- `/get100` - –≤—ã–¥–∞—á–∞ –±–æ–Ω—É—Å–∞
- `/price` - –ø–æ–∫–∞–∑ —Ü–µ–Ω

**–ö–Ω–æ–ø–∫–∏ —Å –∑–∞—â–∏—Ç–æ–π:**
- üíé –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
- üí∞ –ë–∞–ª–∞–Ω—Å  
- ü§ñ –¶–∏—Ñ—Ä–æ–≤–æ–µ —Ç–µ–ª–æ
- üì∏ –ù–µ–π—Ä–æ—Ñ–æ—Ç–æ
- üîç –ü—Ä–æ–º–ø—Ç –∏–∑ —Ñ–æ—Ç–æ
- üß† –ú–æ–∑–≥ –∞–≤–∞—Ç–∞—Ä–∞
- üí≠ –ß–∞—Ç —Å –∞–≤–∞—Ç–∞—Ä–æ–º
- ü§ñ –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ò–ò
- üé§ –ì–æ–ª–æ—Å –∞–≤–∞—Ç–∞—Ä–∞
- üéôÔ∏è –¢–µ–∫—Å—Ç –≤ –≥–æ–ª–æ—Å
- üé• –§–æ—Ç–æ –≤ –≤–∏–¥–µ–æ
- üé• –í–∏–¥–µ–æ –∏–∑ —Ç–µ–∫—Å—Ç–∞
- üñºÔ∏è –¢–µ–∫—Å—Ç –≤ —Ñ–æ—Ç–æ
- üë• –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞
- ü§ñ –¶–∏—Ñ—Ä–æ–≤–æ–µ —Ç–µ–ª–æ 2 (–∞–¥–º–∏–Ω)
- üì∏ –ù–µ–π—Ä–æ—Ñ–æ—Ç–æ 2 (–∞–¥–º–∏–Ω)

### 3. –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –∑–∞—â–∏—Ç—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º)
- `/start` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/menu` - –º–µ–Ω—é (—Å–∞–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É)
- `/support` - —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üí¨ –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üí´ –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, ‚ùì –°–ø—Ä–∞–≤–∫–∞, –û—Ç–º–µ–Ω–∞)

### 4. ‚úÖ –†–ï–û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø: –£—Å—Ç—Ä–∞–Ω–µ–Ω –±–∞—Ä–¥–∞–∫ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –º–µ–∂–¥—É `registerCommands.ts` –∏ `hearsHandlers.ts`
- **–†–µ—à–µ–Ω–∏–µ**: 
  - **`registerCommands.ts`** - —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥—ã (`/start`, `/menu`, `/support`, etc.) –∏ actions
  - **`hearsHandlers.ts`** - –í–°–ï hears –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ —Å –∑–∞—â–∏—Ç–æ–π
  - –í–æ–∑–≤—Ä–∞—â–µ–Ω `setupHearsHandlers(bot)` –≤ `bot.ts`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∏–∫–∞–∫–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/menu`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–º–∞–Ω–¥–∞ –≤—Å–µ–≥–¥–∞ –≤—Ö–æ–¥–∏–ª–∞ –≤ –º–µ–Ω—é –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ `menuScene`
- **–õ–æ–≥–∏–∫–∞**: –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ—Ç ‚Üí `subscriptionScene`, –µ—Å–ª–∏ –µ—Å—Ç—å ‚Üí `menuScene`

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
```
src/
‚îú‚îÄ‚îÄ registerCommands.ts     # –ö–æ–º–∞–Ω–¥—ã (/start, /menu, /support) + Actions
‚îú‚îÄ‚îÄ hearsHandlers.ts        # –í–°–ï hears –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ —Å –∑–∞—â–∏—Ç–æ–π
‚îú‚îÄ‚îÄ helpers/
‚îÇ   ‚îî‚îÄ‚îÄ subscriptionGuard.ts # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã
‚îî‚îÄ‚îÄ bot.ts                  # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: commands ‚Üí hears ‚Üí textHandler
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—â–∏—Ç—ã
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
const hasSubscription = await checkSubscriptionGuard(ctx, '–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏')
if (!hasSubscription) {
  return // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –≤ subscriptionScene
}
// –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏:
- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (—Å —É—á–µ—Ç–æ–º —Å–∏–º—É–ª—è—Ü–∏–∏)
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã/—Ñ—É–Ω–∫—Ü–∏–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### –°–∏–º—É–ª—è—Ü–∏—è –≤ dev —Ä–µ–∂–∏–º–µ
- –§—É–Ω–∫—Ü–∏—è `simulateSubscriptionForDev()` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–¥–ø–∏—Å–æ–∫
- –¢–µ–∫—É—â–∞—è —Å–∏–º—É–ª—è—Ü–∏—è: `null` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏)
- –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –Ω–∞ `NEUROPHOTO`, `NEUROVIDEO`, `NEUROTESTER`, `STARS`

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞**: –í—Å–µ –ø—Ä–µ–º–∏—É–º —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –∞–∫—Ç–∏–≤–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É  
‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ–∑–¥–µ  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∫–∏  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –ø–æ–¥–ø–∏—Å–∫–∏  
‚úÖ **–û—Ç–ª–∞–¥–∫–∞**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏  
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–µ–≥–∫–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤ dev —Ä–µ–∂–∏–º–µ  
‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–Ω–æ–ø–æ–∫  
‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ  

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–¥–ø–∏—Å–æ–∫
3. –ê–¥–º–∏–Ω—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏
5. –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏

*–û–º –®–∞–Ω—Ç–∏! üôè –ó–∞—â–∏—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∞ –≤–æ –≤—Å–µ —É–≥–æ–ª–∫–∏ –±–æ—Ç–∞, –∏ –±–∞—Ä–¥–∞–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω!* 