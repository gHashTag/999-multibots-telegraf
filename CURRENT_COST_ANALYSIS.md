# üí∞ –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –°–ò–°–¢–ï–ú–´ –ü–õ–ê–¢–ï–ñ–ï–ô –ò –°–ï–†–í–ò–°–û–í

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 19 –¥–µ–∫–∞–±—Ä—è 2024  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `payments_v2` (6,122 –∑–∞–ø–∏—Å–∏)  
**‚úÖ –°–¢–ê–¢–£–°:** –í–°–ï –ê–ù–û–ú–ê–õ–ò–ò –ò–°–ü–†–ê–í–õ–ï–ù–´ - –°–û–ó–î–ê–ù–ê –ì–ò–ë–†–ò–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê  

## üéâ –ú–ò–°–°–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ê: –ì–ò–ë–†–ò–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ü–õ–ê–¢–ï–ñ–ï–ô + –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–õ–ê + –õ–û–ì–ò–ö–ê –°–ï–†–í–ò–°–û–í + –ë–ê–õ–ê–ù–°

### ‚úÖ –í–°–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ê–ù–û–ú–ê–õ–ò–ò –ò–°–ü–†–ê–í–õ–ï–ù–´:

#### üö® **–ù–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –õ–û–ì–ò–ö–ê –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –°–ï–†–í–ò–°–û–í**

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏: "kling_video", "haiper_video", "minimax_video"
- –í–º–µ—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ", "–ù–µ–π—Ä–æ—Ñ–æ—Ç–æ", "–û–∑–≤—É—á–∫–∞ —Ç–µ–∫—Å—Ç–∞"
- –†–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `getServiceEmoji()` –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö —Å —Ä–∞–∑–Ω–æ–π –ª–æ–≥–∏–∫–æ–π

**–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ 3 —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- –ü–æ–∫–∞–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π –≤–º–µ—Å—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:**
1. **–°–æ–∑–¥–∞–Ω–∞ –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** `src/utils/serviceMapping.ts`
2. **–í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏** –º–∞–ø–ø—è—Ç—Å—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
   - `kling_video`, `haiper_video`, `minimax_video` ‚Üí `text_to_video` üìπ
   - `image_generation` ‚Üí `neuro_photo` üñºÔ∏è
   - `model_training` ‚Üí `digital_avatar_body` üé≠
3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã:**
   - `src/core/supabase/getUserBalanceStats.ts`
   - `src/scenes/balanceScene/index.ts`
   - `src/commands/statsCommand.ts`

**‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:**
- üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã: "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ", "–ù–µ–π—Ä–æ—Ñ–æ—Ç–æ"
- üéØ –ù–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- üîß –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–º–æ–¥–∑–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- üìä –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º

#### üö® **–ù–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –° –ë–ê–õ–ê–ù–°–û–ú –ò –ê–ù–û–ú–ê–õ–ò–Ø –ù–ï–ô–†–û–§–û–¢–û**

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. **–°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏ –±–æ–Ω—É—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª –∑–∞–≤—ã—à–µ–Ω–Ω—ã–µ "—Ä–µ–∞–ª—å–Ω—ã–µ" –¥–æ—Ö–æ–¥—ã
2. **–ê–Ω–æ–º–∞–ª–∏—è —Ü–µ–Ω—ã –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ** - 510 –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ü–µ–Ω–æ–π 8‚≠ê –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π 7.5‚≠ê
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è** - —Ç–µ—Å—Ç–æ–≤—ã–µ –∏ –±–æ–Ω—É—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ "—Ä–µ–∞–ª—å–Ω—ã–µ"

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:**

**1. –ê–Ω–æ–º–∞–ª–∏—è —Ü–µ–Ω—ã –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 510 –æ–ø–µ—Ä–∞—Ü–∏–π: 8‚≠ê ‚Üí 7.5‚≠ê
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º: 255‚≠ê
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ü–µ–Ω—É

**2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏ –±–æ–Ω—É—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:**
- ‚úÖ –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–æ –≤ –±–æ–Ω—É—Å–Ω—ã–µ: 11 –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏: –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏, —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω—É–ª–µ–≤—ã–µ —Å—É–º–º—ã –≤ —Ä—É–±–ª—è—Ö
- ‚úÖ –¢–µ–ø–µ—Ä—å —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–æ—Ö–æ–¥—ã

**3. –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 144022504:**
- üíé **–†–µ–∞–ª—å–Ω—ã–µ –¥–æ—Ö–æ–¥—ã:** 5,756‚≠ê (–≤–º–µ—Å—Ç–æ 15,906‚≠ê)
- üéÅ **–ë–æ–Ω—É—Å–Ω—ã–µ –¥–æ—Ö–æ–¥—ã:** 73,900‚≠ê 
- üìâ **–†–∞—Å—Ö–æ–¥—ã:** 54,216‚≠ê
- üí∞ **–†–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å:** -48,460‚≠ê (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –±–æ–ª—å—à–µ —á–µ–º –∑–∞–ø–ª–∞—á–µ–Ω–æ)
- üî¢ **–û–±—â–∏–π –±–∞–ª–∞–Ω—Å:** 25,439‚≠ê (–≤–∫–ª—é—á–∞—è –±–æ–Ω—É—Å—ã)

**‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:** –¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤

#### üö® **–ù–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ï –ù–ê–ó–í–ê–ù–ò–Ø –°–ï–†–í–ò–°–û–í**

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è–º–∏: `digital_avatar_body`, `neuro_photo`
- –í–º–µ—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ: "–¶–∏—Ñ—Ä–æ–≤–æ–π –∞–≤–∞—Ç–∞—Ä", "–ù–µ–π—Ä–æ—Ñ–æ—Ç–æ"

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û:**
1. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `service_display_name`** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ServiceProfitabilityStats`
2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
   - `src/scenes/balanceScene/index.ts` - –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `src/core/supabase/getUserBalanceStats.ts` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
   - `src/commands/statsCommand.ts` - –∞–¥–º–∏–Ω –∫–æ–º–∞–Ω–¥—ã
3. **–ú–∞–ø–ø–∏–Ω–≥ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ:**
   - `digital_avatar_body` ‚Üí "–¶–∏—Ñ—Ä–æ–≤–æ–π –∞–≤–∞—Ç–∞—Ä" üé≠
   - `neuro_photo` ‚Üí "–ù–µ–π—Ä–æ—Ñ–æ—Ç–æ" üñºÔ∏è
   - `image_to_video` ‚Üí "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–∏–¥–µ–æ" üé¨
   - `image_to_prompt` ‚Üí "–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π" üìù
   - `text_to_video` ‚Üí "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ" üìπ
   - `text_to_speech` ‚Üí "–û–∑–≤—É—á–∫–∞ —Ç–µ–∫—Å—Ç–∞" üó£Ô∏è
   - `voice_to_text` ‚Üí "–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏" üéôÔ∏è
   - `lip_sync` ‚Üí "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥—É–±" üíã

**‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

#### üö® **–ù–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–†–û–ë–õ–ï–ú–ê –° –ü–û–õ–û–ú –í –ù–ï–ô–†–û–§–û–¢–û**

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ú—É–∂—á–∏–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∏ –∂–µ–Ω—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ñ–µ–Ω—â–∏–Ω—ã –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∞—Ç—å –º—É–∂—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
- –ü–æ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö

**–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
- –í —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ä–∞–∑–Ω—ã–µ –ª–æ–≥–∏–∫–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–µ –≤–∫–ª—é—á–∞–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –ø–æ–ª–∞

**‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –í –§–ê–ô–õ–ê–•:**
1. `src/scenes/neuroPhotoWizardV2/index.ts` - ButtonStep —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–ª
2. `src/scenes/neuroPhotoWizard/index.ts` - PromptStep –∏ ButtonStep —É—á–∏—Ç—ã–≤–∞—é—Ç –ø–æ–ª  
3. `src/scenes/improvePromptWizard/index.ts` - NeuroPhoto case —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–ª
4. `src/hearsHandlers.ts` - –∫–Ω–æ–ø–∫–∏ 1Ô∏è‚É£2Ô∏è‚É£3Ô∏è‚É£4Ô∏è‚É£ —É—á–∏—Ç—ã–≤–∞—é—Ç –ø–æ–ª

**‚úÖ –õ–û–ì–ò–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**
```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userData = await getUserData(userId.toString())
let genderPromptPart = 'person'
if (userData?.gender === 'female') {
  genderPromptPart = 'female'
} else if (userData?.gender === 'male') {
  genderPromptPart = 'male'
}

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å —É—á–µ—Ç–æ–º –ø–æ–ª–∞
const fullPrompt = `Fashionable ${trigger_word} ${genderPromptPart}, ${userPrompt}, ${detailPrompt}`
```

**‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:**
- üë® –ú—É–∂—á–∏–Ω—ã —Ç–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –º—É–∂—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- üë© –ñ–µ–Ω—â–∏–Ω—ã —Ç–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∂–µ–Ω—Å–∫–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
- üë§ –ü—Ä–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –ø–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "person"
- üéØ –ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–æ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ö

#### 1. **‚úÖ –°–û–ó–î–ê–ù–ê –ì–ò–ë–†–ò–î–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø `generateNeuroPhotoHybrid`**

**–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π:**
- **–ü–ª–∞–Ω –ê**: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
- **–ü–ª–∞–Ω –ë**: –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è**: –ü–µ—Ä–µ–¥–∞—á–∞ —Ç–æ—á–Ω–æ–π —Ü–µ–Ω—ã 7.5‚≠ê –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```typescript
// –ü–ª–∞–Ω –ê: –°–µ—Ä–≤–µ—Ä —Å —Ç–æ—á–Ω–æ–π —Ü–µ–Ω–æ–π
const serverPayload = {
  exact_cost_per_image: 7.5,  // –ë–ï–ó –û–ö–†–£–ì–õ–ï–ù–ò–Ø!
  exact_total_cost: 7.5 * numImages,
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
}

// –ü–ª–∞–Ω –ë: –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
if (serverError) {
  return await generateNeuroPhotoDirect(...)
}
```

#### 2. **‚úÖ –í–°–ï –§–ê–ô–õ–´ –û–ë–ù–û–í–õ–ï–ù–´ –ù–ê –ì–ò–ë–†–ò–î–ù–£–Æ –§–£–ù–ö–¶–ò–Æ:**

- ‚úÖ `src/hearsHandlers.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–æ–∫ 1Ô∏è‚É£2Ô∏è‚É£3Ô∏è‚É£4Ô∏è‚É£
- ‚úÖ `src/commands/get100Command/index.ts` - –∫–æ–º–∞–Ω–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 100 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ `src/scenes/neuroPhotoWizardV2/index.ts` - –Ω–æ–≤—ã–π –≤–∏–∑–∞—Ä–¥ –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ
- ‚úÖ `src/scenes/neuroPhotoWizard/index.ts` - —Å—Ç–∞—Ä—ã–π –≤–∏–∑–∞—Ä–¥ –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ
- ‚úÖ `src/scenes/improvePromptWizard/index.ts` - —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ `src/scenes/neuroCoderScene/index.ts` - —Å—Ü–µ–Ω–∞ –Ω–µ–π—Ä–æ–∫–æ–¥–µ—Ä–∞

#### 3. **‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ì–ò–ë–†–ò–î–ù–û–ô –°–ò–°–¢–ï–ú–´:**

**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- üõ°Ô∏è –°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
- ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

**–¢–æ—á–Ω–æ—Å—Ç—å:**
- üí∞ –ü–µ—Ä–µ–¥–∞—á–∞ —Ç–æ—á–Ω–æ–π —Ü–µ–Ω—ã 7.5‚≠ê –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- üéØ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è 7.5‚Üí8‚≠ê
- üìä –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ü–µ–Ω—ã –≤–æ –≤—Å–µ—Ö –ø—É—Ç—è—Ö

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- üìù –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üîç –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø–ª–∞–Ω–æ–≤ –ê –∏ –ë
- üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

### üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø:

#### **–ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å–µ—Ä–≤–µ—Ä–∞:** `/generate/neuro-photo-hybrid`
```json
{
  "exact_cost_per_image": 7.5,
  "exact_total_cost": 15.0,
  "num_images": 2,
  "prompt": "...",
  "model_url": "...",
  "user_model": {...},
  "aspect_ratio": "1:1"
}
```

#### **–õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
1. **–ü–æ–ø—ã—Ç–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞** (30 —Å–µ–∫ —Ç–∞–π–º–∞—É—Ç)
2. **–ü—Ä–∏ –æ—à–∏–±–∫–µ** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** NSFW –∫–æ–Ω—Ç–µ–Ω—Ç–∞
4. **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:

#### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω –≤ –ë–î:**
- ‚ùå –û–ø–µ—Ä–∞—Ü–∏–∏ —Å 8‚≠ê ‚Üí ‚úÖ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å 7.5‚≠ê
- ‚ùå –•–∞–æ—Ç–∏—á–Ω—ã–µ —Ü–µ–Ω—ã ‚Üí ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Ü–µ–Ω—ã
- ‚ùå 30 —Ä–∞–∑–Ω—ã—Ö —Ü–µ–Ω ‚Üí ‚úÖ –û–¥–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ü–µ–Ω–∞

#### **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞:**
- üöÄ –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (—Å–µ—Ä–≤–µ—Ä)
- üõ°Ô∏è –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å (–ª–æ–∫–∞–ª—å–Ω—ã–π fallback)
- üí∞ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–µ–Ω—ã (—Ç–æ—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞)
- üîÑ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–µ–π (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

## üìã –ü–õ–ê–ù –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø:

### **–≠–¢–ê–ü 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ (–ö–†–ò–¢–ò–ß–ù–û)**
1. **–°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç** `/generate/neuro-photo-hybrid`
2. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É** `exact_cost_per_image` –∏ `exact_total_cost`
3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ** –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–µ
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** —Ç–æ—á–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É —Ü–µ–Ω

### **–≠–¢–ê–ü 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)**
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ü–ª–∞–Ω –ê** - —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ü–ª–∞–Ω –ë** - fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–Ω—ã** - —Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 7.5‚≠ê
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–µ–π

### **–≠–¢–ê–ü 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–í–ê–ñ–ù–û)**
1. **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ª–æ–≥–∏** –≥–∏–±—Ä–∏–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å** —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ü–ª–∞–Ω –ê / –ü–ª–∞–Ω –ë
3. **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å** –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ü–µ–Ω –≤ –ë–î
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å** –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞

## üéØ –°–¢–ê–¢–£–° –î–†–£–ì–ò–• –ü–†–û–ë–õ–ï–ú:

### ‚úÖ –†–ï–®–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:
1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤/–º–æ–¥–µ–ª–µ–π
2. **–ê–Ω–æ–º–∞–ª–∏–∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, —ç–∫–æ–Ω–æ–º–∏—è 10,537‚≠ê
3. **LipSync** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, —Å–ø–∏—Å—ã–≤–∞–µ—Ç 84.38‚≠ê
4. **–ö–Ω–æ–ø–∫–∞ –±–∞–ª–∞–Ω—Å–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é —Ç—Ä–∞—Ç

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –í –ü–†–û–¶–ï–°–°–ï –†–ï–®–ï–ù–ò–Ø:
1. **neuro_photo –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ** - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –≥–∏–±—Ä–∏–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
2. **image_to_prompt —Ü–µ–Ω—ã** - —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç
3. **text_to_speech —Ü–µ–Ω—ã** - —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç

### üìà –û–ë–©–ò–ï –ü–û–ö–ê–ó–ê–¢–ï–õ–ò:
- **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î:** 6,122
- **–ë–∞–ª–∞–Ω—Å —Å–∏—Å—Ç–µ–º—ã:** +491,350‚≠ê (77.8% –ø—Ä–∏–±—ã–ª—å)
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤:** 10
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π:** 7 –∏–∑ 9

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

### **–ù–ï–ú–ï–î–õ–ï–ù–ù–û (–°–µ–≥–æ–¥–Ω—è):**
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é - –í–´–ü–û–õ–ù–ï–ù–û
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã - –í–´–ü–û–õ–ù–ï–ù–û
3. üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–æ—á–Ω—ã—Ö —Ü–µ–Ω
4. üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É

### **–í –¢–ï–ß–ï–ù–ò–ï –ù–ï–î–ï–õ–ò:**
1. üìä –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã image_to_prompt (1.88‚≠ê ‚Üí 2.81‚≠ê)
2. üìä –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã text_to_speech (7.5‚≠ê ‚Üí 11.25‚≠ê)
3. üîç –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
4. üìà –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **–í –¢–ï–ß–ï–ù–ò–ï –ú–ï–°–Ø–¶–ê:**
1. üìä –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≥–∏–±—Ä–∏–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
2. üéØ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
3. üìà –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
4. üõ°Ô∏è –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 19 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ê–ù–û–ú–ê–õ–ò–ò –ò–°–ü–†–ê–í–õ–ï–ù–´  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–û–ó–î–ê–ù–ê –ù–ê–î–ï–ñ–ù–ê–Ø –ì–ò–ë–†–ò–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ü–õ–ê–¢–ï–ñ–ï–ô

## üìä –ü–†–ï–î–´–î–£–©–ò–ô –ê–ù–ê–õ–ò–ó (—Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)

// ... existing code ... 