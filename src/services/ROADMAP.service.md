# üöÄ –°–µ—Ä–≤–∏—Å—ã: –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

## üìå –¶–µ–ª—å
–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (Plan A/Plan B) –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ–π—Ä–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
PLAN B /Users/playom/999-multibots-telegraf/src/services/plan_b

## üîß –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–∑–±–µ–≥–∞—Ç—å –∫–ª–∞—Å—Å–æ–≤ –≤ –ø–æ–ª—å–∑—É —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π
- –°–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—É –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üìù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### üõ† –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
1. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   - `TestRunner` - —è–¥—Ä–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞–º–∏
   - `assert` - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π
   - `mock` - —Å–∏—Å—Ç–µ–º–∞ –º–æ–∫–æ–≤ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
   - `createMockContext` - —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:
   ```typescript
   const testRunner = new TestRunner('Test Suite Name')
   
   // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º
   testRunner.beforeEach(() => {
     mock.clearAll()
     // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–∫–æ–≤
   })
   
   // –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞
   testRunner.test('–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞', async () => {
     // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
     const ctx = createMockContext()
     
     // –î–µ–π—Å—Ç–≤–∏–µ
     const result = await functionUnderTest()
     
     // –ü—Ä–æ–≤–µ—Ä–∫–∞
     assert.isTrue(result.success)
   })
   
   // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
   testRunner.run()
   ```

3. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–∫–æ–≤:
   - –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π: `mock.module()`
   - –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π: `mock.fn()`
   - –û—á–∏—Å—Ç–∫–∞ –º–æ–∫–æ–≤: `mock.clearAll()`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑–æ–≤–æ–≤: `assert.wasCalled()`, `assert.wasCalledWith()`

4. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
   - –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –º–æ–∫–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

1. –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
   - –ú–æ–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è Plan A –∏ Plan B
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø–ª–∞–Ω–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram API

3. –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
   - –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Inngest
   - Fallback –Ω–∞ –ø—Ä—è–º—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π (dev/test/prod)
   - –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (ru/en)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

4. –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
   - –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ > 80%
   - –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ < 5 —Å–µ–∫—É–Ω–¥
   - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ flaky tests

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
```
src/
  ‚îú‚îÄ‚îÄ test-utils/              # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  ‚îÇ   ‚îú‚îÄ‚îÄ core/               # –Ø–¥—Ä–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assert.ts
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mock.ts
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TestRunner.ts
  ‚îÇ   ‚îú‚îÄ‚îÄ helpers/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ createMockContext.ts
  ‚îÇ   ‚îî‚îÄ‚îÄ tests/             # –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
  ‚îÇ       ‚îú‚îÄ‚îÄ neuro/         # –¢–µ—Å—Ç—ã –Ω–µ–π—Ä–æ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ model/     # –¢–µ—Å—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
  ‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modelTrainingTest.ts
  ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
  ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ photo/     # –¢–µ—Å—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ç–æ
  ‚îÇ       ‚îî‚îÄ‚îÄ services/      # –¢–µ—Å—Ç—ã –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

### üîç –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
1. –í—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/test-utils/tests/`
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –≤ `tests/` –∑–µ—Ä–∫–∞–ª–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö –º–æ–¥—É–ª–µ–π
3. –ò–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–æ–ª–∂–Ω—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `Test.ts`
4. –ù–ï —Ä–∞–∑–º–µ—â–∞—Ç—å —Ç–µ—Å—Ç—ã —Ä—è–¥–æ–º —Å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ `src/services/`
5. –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–º—É –º–æ–¥—É–ª—é

### üìã –ü—Ä–∏–º–µ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
```typescript
// src/test-utils/tests/neuro/model/modelTrainingTest.ts

import { assert } from '@/test-utils/core/assert'
import { mock } from '@/test-utils/core/mock'
import { TestRunner } from '@/test-utils/core/TestRunner'

const testRunner = new TestRunner('Model Training Tests')

// –¢–µ—Å—Ç—ã...

testRunner.run()
```

## üìÅ –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∏–ø–æ–≤
```
src/
  ‚îú‚îÄ‚îÄ interfaces/                    # –í—Å–µ —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø—Ä–æ–µ–∫—Ç–∞
  ‚îÇ   ‚îú‚îÄ‚îÄ telegram-bot.interface.ts  # –¢–∏–ø—ã –¥–ª—è Telegram –±–æ—Ç–∞
  ‚îÇ   ‚îú‚îÄ‚îÄ neuro/                    # –¢–∏–ø—ã –¥–ª—è –Ω–µ–π—Ä–æ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model.interface.ts    # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photo.interface.ts    # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ç–æ
  ‚îÇ   ‚îî‚îÄ‚îÄ services/                 # –¢–∏–ø—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
```

### üîç –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–∏–ø–∞–º–∏
1. –í—Å–µ —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/interfaces/`
2. –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∏–ø—ã –≤ –ø–∞–ø–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –≤ `interfaces/` –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
4. –§–∞–π–ª—ã —Å —Ç–∏–ø–∞–º–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `.interface.ts`
5. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç—ã
6. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

### üìã –ü—Ä–∏–º–µ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
```typescript
// src/interfaces/neuro/model.interface.ts

export interface ModelConfig {
  name: string;
  version: string;
  // ...
}

export interface ModelTrainingResult {
  success: boolean;
  error?: string;
  // ...
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
services/
  ‚îú‚îÄ‚îÄ shared/
  ‚îÇ   ‚îú‚îÄ‚îÄ inngest.utils.ts      # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Inngest
  ‚îÇ   ‚îú‚îÄ‚îÄ direct.utils.ts       # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤
  ‚îÇ   ‚îî‚îÄ‚îÄ telegram.utils.ts     # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram
  ‚îú‚îÄ‚îÄ neuro/
  ‚îÇ   ‚îú‚îÄ‚îÄ photo/
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generateNeuroImage.ts
  ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generateNeuroPhotoDirect.ts
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __tests__/       # –¢–µ—Å—Ç—ã –¥–ª—è —Ñ–æ—Ç–æ-—Ñ—É–Ω–∫—Ü–∏–π
  ‚îÇ   ‚îî‚îÄ‚îÄ model/
  ‚îÇ       ‚îú‚îÄ‚îÄ createModelTraining.ts
  ‚îÇ       ‚îú‚îÄ‚îÄ createModelTrainingDirect.ts
  ‚îÇ       ‚îî‚îÄ‚îÄ __tests__/       # –¢–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
  ‚îî‚îÄ‚îÄ types/
      ‚îî‚îÄ‚îÄ common.types.ts       # –û–±—â–∏–µ —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
```

## üéØ –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç HIGH)

### 1.1 –ù–µ–π—Ä–æ—Ñ–æ—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [x] generateNeuroImage.ts - –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - [x] Plan A (Inngest) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - [x] Plan B (Direct) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (dev/test/prod)
  - [x] –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π
  - [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
    - [ ] –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
    - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
    - [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- [x] createModelTraining.ts - –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
  - [x] –°–æ–∑–¥–∞—Ç—å shared/model.utils.ts –¥–ª—è –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏
  - [x] –°–æ–∑–¥–∞—Ç—å types/model.types.ts –¥–ª—è —Ç–∏–ø–æ–≤
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å createModelTrainingDirect.ts
  - [x] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Plan B
  - [x] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - [x] –í–Ω–µ–¥—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
  - [x] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ–±–æ–∏—Ö –ø—É—Ç–µ–π
    - [x] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ Inngest (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
    - [x] –¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø—Ä—è–º—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
    - [x] –¢–µ—Å—Ç –ø—Ä—è–º–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–¥–µ–ª–∏ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
    - [x] –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
    - [x] –¢–µ—Å—Ç —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
    - [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è Plan A –∏ Plan B —Å –º–æ–∫–∞–º–∏
    - [x] –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TestRunner
    - [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    - [x] –û–±–Ω–æ–≤–ª–µ–Ω mockContext –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–∂–∏–º–æ–≤
  - [x] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  - [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - [x] –î–æ–±–∞–≤–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram API

- [ ] generateTextToImage.ts - –ü—Ä–æ–º–ø—Ç –∏–∑ —Ñ–æ—Ç–æ
  - [ ] –°–æ–∑–¥–∞—Ç—å Direct –≤–µ—Ä—Å–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Plan B
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - [ ] –í–Ω–µ–¥—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
  - [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ–±–æ–∏—Ö –ø—É—Ç–µ–π
  - [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
  - [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram API
  - [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
    - [ ] –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
    - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
    - [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1.2 –ú–æ–¥–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [x] createModelTraining.ts - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
  - [x] Plan A (Inngest) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - [x] Plan B (Direct) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (dev/test/prod)
  - [x] –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π
  - [x] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
    - [x] Plan A: –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ Inngest
    - [x] Plan B: –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
    - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    - [x] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫)

## üéØ –≠—Ç–∞–ø 2: –í—Ç–æ—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç MEDIUM)

### 2.1 –í–∏–¥–µ–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] generateTextToVideo.ts
  - [ ] –°–æ–∑–¥–∞—Ç—å Direct –≤–µ—Ä—Å–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Plan B
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] generateImageToVideo.ts
  - [ ] –°–æ–∑–¥–∞—Ç—å Direct –≤–µ—Ä—Å–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Plan B
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] generateLipSync.ts
  - [ ] –°–æ–∑–¥–∞—Ç—å Direct –≤–µ—Ä—Å–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Plan B
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2.2 –ê–≤–∞—Ç–∞—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] generateVoiceAvatar.ts
  - [ ] –°–æ–∑–¥–∞—Ç—å Direct –≤–µ—Ä—Å–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Plan B
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2.3 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- [ ] generateNeuroImageV2.ts
  - [ ] –°–æ–∑–¥–∞—Ç—å Direct –≤–µ—Ä—Å–∏—é
  - [ ] –î–æ–±–∞–≤–∏—Ç—å Plan A —á–µ—Ä–µ–∑ Inngest
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Plan B
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìã –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–π
```typescript
// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
export async function generateXXX(params: XXXParams): Promise<void> {
  const { requestId, isCorrectEnvironment } = setupRequest(params);
  
  try {
    // –ü–ª–∞–Ω A: Inngest
    await executeInngestPlan(params, requestId);
  } catch (inngestError) {
    // –ü–ª–∞–Ω B: Direct
    await executeDirectPlan(params, requestId);
  }
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
const setupRequest = (params: XXXParams) => ({
  requestId: generateRequestId(params),
  isCorrectEnvironment: checkEnvironment(params)
});

const executeInngestPlan = async (params: XXXParams, requestId: string) => {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Plan A
};

const executeDirectPlan = async (params: XXXParams, requestId: string) => {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Plan B
};
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
- –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –Ø–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –¢–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ Either –∏–ª–∏ Result —Ç–∏–ø—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (dev/test/prod)
3. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (requestId)
4. –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (ru/en)
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram API
6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
7. –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Direct –≤–µ—Ä—Å–∏–∏
```typescript
export async function generateXXXDirect(
  // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  prompt: string,
  model_url: string,
  numItems: number | string,
  telegram_id: string,
  ctx: MyContext,
  botName: string,
  options?: {
    disable_telegram_sending?: boolean;
  }
): Promise<{
  success: boolean;
  urls?: string[];
  error?: string;
}> {
  // —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
}
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å requestId
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É Plan A –∏ Plan B
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –≤ –∫–∞–∂–¥–æ–º –ª–æ–≥–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Å—Ç–∞–º
1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:
   ```typescript
   // –ò–º–ø–æ—Ä—Ç—ã
   import { assert } from '@/test-utils/core/assert'
   import { mock } from '@/test-utils/core/mock'
   import { TestRunner } from '@/test-utils/core/TestRunner'
   
   // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TestRunner
   const testRunner = new TestRunner('Feature Name Tests')
   
   // –ú–æ–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   mock.module('dependencies', {})
   
   // –•—É–∫–∏
   testRunner.beforeEach(() => {})
   
   // –¢–µ—Å—Ç—ã
   testRunner.test('Plan A: Success Case', async () => {})
   testRunner.test('Plan B: Fallback Case', async () => {})
   
   // –ó–∞–ø—É—Å–∫
   testRunner.run()
   ```

2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
   - –ü–ª–∞–Ω A: –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Inngest
   - –ü–ª–∞–Ω B: –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä—è–º—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

3. –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤:
   - –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
   - –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—É "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–î–µ–π—Å—Ç–≤–∏–µ-–ü—Ä–æ–≤–µ—Ä–∫–∞"

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

1. –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
2. –°–æ–∑–¥–∞–Ω–∏–µ Direct –≤–µ—Ä—Å–∏–∏
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Direct –≤–µ—Ä—Å–∏–∏
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Inngest
5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
9. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- –í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ Inngest < 1 —Å–µ–∫—É–Ω–¥—ã
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ > 99.9%
- –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
- –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤–æ –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ > 80%
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ < 5 —Å–µ–∫—É–Ω–¥

## üü¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (–∞–ø—Ä–µ–ª—å 2024)

- ‚úÖ **Plan A/Plan B —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è:**
  - generateNeuroImage.ts (–Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ)
  - createModelTraining.ts / createModelTrainingDirect.ts (–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π)
- ‚úÖ **Plan B (Direct) –ø–æ–¥–∫–ª—é—á—ë–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**
  - generateTextToImage.ts (—Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, TODO: —Ç–µ—Å—Ç—ã)
  - generateTextToVideo.ts (—Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, TODO: —Ç–µ—Å—Ç—ã)
  - generateImageToVideo.ts (—Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, TODO: —Ç–µ—Å—Ç—ã)
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ –∏ —Ç–∏–ø–æ–≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
- ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, Telegram-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ cg log –∏ roadmap
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (edge-cases, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã Plan A/Plan B –∏ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä—è–¥–∞ —Ñ—É–Ω–∫—Ü–∏–π (—Å–º. –Ω–∏–∂–µ)

## üî• –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç HIGH)

1. **generateLipSync.ts**
   - [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å/—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Direct-–≤–µ—Ä—Å–∏—é (Plan B)
   - [ ] TODO –¥–ª—è —Ç–µ—Å—Ç–æ–≤, —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ roadmap

2. **–í–∏–¥–µ–æ –∏ –∞–≤–∞—Ç–∞—Ä-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
   - [ ] generateVoiceAvatar.ts ‚Äî Plan A/Plan B, —Ç–µ—Å—Ç—ã
   - [ ] generateNeuroImageV2.ts ‚Äî Plan A/Plan B, —Ç–µ—Å—Ç—ã

3. **–¢–µ—Å—Ç—ã**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å edge-case —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
   - [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ > 80%

## üìã TODO (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
- [x] –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –≤ shared/
- [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø—ã –≤ types/
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å createModelTraining.ts –∏ createModelTrainingDirect.ts (Plan A/Plan B)
- [x] –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ, –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å generateTextToImage.ts (Plan B, —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å generateTextToVideo.ts (Plan B, —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å generateImageToVideo.ts (Plan B, —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å generateLipSync.ts (Plan B, —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ/–∞–≤–∞—Ç–∞—Ä-—Ñ—É–Ω–∫—Ü–∏–∏ (Plan A/Plan B, —Ç–µ—Å—Ç—ã)
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (edge, perf, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] –û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ cg log

## üìù –ö—Ä–∞—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ, –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π) ‚Äî –≥–æ—Ç–æ–≤—ã, –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç fallback.
- –í–∏–¥–µ–æ, –∞–≤–∞—Ç–∞—Ä, –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã ‚Äî Plan B –ø–æ–¥–∫–ª—é—á—ë–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ Plan A.
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è.

## üèÅ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å/—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Plan B –¥–ª—è generateLipSync.ts, –æ—Å—Ç–∞–≤–∏—Ç—å TODO –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –æ–±–Ω–æ–≤–∏—Ç—å roadmap –∏ cg log.

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (Model Training)

### –ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è
1. **–ü–ª–∞–Ω A: –¢–µ—Å—Ç—ã —á–µ—Ä–µ–∑ Inngest**
   - ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ Inngest
   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Inngest –∏ fallback
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑–æ–≤–æ–≤ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

2. **–ü–ª–∞–Ω B: –ü—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏**
   - ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
   - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (–ø—É—Å—Ç–æ–µ –∏–º—è, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —à–∞–≥–∏)

3. **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### –£–ª—É—á—à–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ç–µ—Å—Ç–æ–≤
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `logger` –≤–º–µ—Å—Ç–æ `console.log`
2. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Plan A –∏ Plan B
3. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–∑–æ–≤–æ–≤ –º–æ–∫–æ–≤
4. –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

### TODO
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è edge cases –≤ Plan A
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ 