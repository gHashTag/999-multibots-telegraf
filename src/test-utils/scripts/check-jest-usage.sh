#!/bin/bash

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
NC='\033[0m'

echo "üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jest..."

# –ò—â–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jest –≤ —Ñ–∞–π–ª–∞—Ö
JEST_USAGE=$(find . -type f -name "*.ts" -o -name "*.js" | xargs grep -l "jest\.")

if [ -n "$JEST_USAGE" ]; then
    echo -e "${RED}‚ùå –ù–∞–π–¥–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jest –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:${NC}"
    echo "$JEST_USAGE"
    exit 1
else
    echo -e "${GREEN}‚úÖ Jest –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ${NC}"
    exit 0
fi 