# üß™ –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞

–í —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã, –≤–∫–ª—é—á–∞—è –Ω–µ–π—Ä–æ—Ñ—É–Ω–∫—Ü–∏–∏, –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –≤–µ–±—Ö—É–∫–∏, Inngest —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏.

## üîÑ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- **assert** - –º–æ–¥—É–ª—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π —Å –±–æ–≥–∞—Ç—ã–º –Ω–∞–±–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- **mock** - –º–æ–¥—É–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≥–ª—É—à–µ–∫ —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- **snapshot** - –º–æ–¥—É–ª—å –¥–ª—è —Å–Ω–∞–ø—à–æ—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

–≠—Ç–∏ –º–æ–¥—É–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —á–∏—Å—Ç—ã–π API –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ—Å—Ç—ã –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏. –ú–æ–¥—É–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

```typescript
import assert from '@/test-utils/core/assert';
import mock from '@/test-utils/core/mock';

// –°–æ–∑–¥–∞–µ–º –º–æ–∫ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏
const mockFn = mock.create({
  returnValue: 'test'
});

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–∫
const result = mockFn();

// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
assert.strictEqual(result, 'test');
assert.isTrue(mockFn.called);
assert.strictEqual(mockFn.callCount, 1);
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∏–∂–µ.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

```
test-utils/
‚îú‚îÄ‚îÄ index.ts                # –û—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ
‚îú‚îÄ‚îÄ core/                   # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ TestRunner.ts       # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ InngestFunctionTester.ts  # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ç–µ—Å—Ç–µ—Ä–æ–≤ Inngest —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ categories.ts       # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ config.ts           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ environment.ts      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ runTests.ts         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ setup.ts            # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ setupTests.ts       # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ types.ts            # –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ tests/                  # –¢–µ—Å—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
‚îÇ   ‚îú‚îÄ‚îÄ neuro/              # –¢–µ—Å—Ç—ã –Ω–µ–π—Ä–æ—Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ text-to-video/  # –¢–µ—Å—Ç—ã —Ç–µ–∫—Å—Ç-–≤-–≤–∏–¥–µ–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NeuroPhotoTester.ts   # –¢–µ—Å—Ç–µ—Ä –¥–ª—è –ù–µ–π—Ä–æ–§–æ—Ç–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NeuroPhotoV2Tester.ts # –¢–µ—Å—Ç–µ—Ä –¥–ª—è –ù–µ–π—Ä–æ–§–æ—Ç–æ V2
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ neuroPhotoTest.ts     # –¢–µ—Å—Ç—ã –ù–µ–π—Ä–æ–§–æ—Ç–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ neuroPhotoV2Test.ts   # –¢–µ—Å—Ç—ã –ù–µ–π—Ä–æ–§–æ—Ç–æ V2
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–µ–π—Ä–æ—Ç–µ—Å—Ç–∞–º
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/           # –¢–µ—Å—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database-tests.test.ts  # –¢–µ—Å—Ç—ã –ë–î Supabase
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ webhooks/           # –¢–µ—Å—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webhook.test.ts      # –¢–µ—Å—Ç—ã Replicate –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ videoWebhook.test.ts # –¢–µ—Å—Ç—ã –≤–∏–¥–µ–æ –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bfl-webhook-test-runner.test.ts  # –¢–µ—Å—Ç—ã BFL –≤–µ–±—Ö—É–∫–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ inngest/            # –¢–µ—Å—Ç—ã Inngest-—Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ InngestFunctionTester.ts  # –¢–µ—Å—Ç–µ—Ä –¥–ª—è Inngest —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ speech/             # –¢–µ—Å—Ç—ã –∞—É–¥–∏–æ —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audio-tests.test.ts  # –¢–µ—Å—Ç—ã –∞—É–¥–∏–æ —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test-voices.test.ts  # –¢–µ—Å—Ç—ã –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ translations/       # –¢–µ—Å—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ translationTests.ts  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ factories/              # –§–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ TestDataFactory.ts  # –§–∞–±—Ä–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ helpers/                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ api-client.ts       # –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îÇ   ‚îú‚îÄ‚îÄ createMockContext.ts # –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ createTestUser.ts    # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ
‚îú‚îÄ‚îÄ test-runners/          # –ó–∞–ø—É—Å–∫–∞—Ç–µ–ª–∏ —Ç–µ—Å—Ç–æ–≤ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ test-runner.test.ts # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ run.test.ts         # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ index.test.ts       # –¢–µ—Å—Ç—ã —Å–∞–º–æ–π —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ inngest/                # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ Inngest —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ inngest-test-engine.ts  # –î–≤–∏–∂–æ–∫ —Ç–µ—Å—Ç–æ–≤ Inngest
‚îÇ   ‚îú‚îÄ‚îÄ inngest-tests.test.ts   # –¢–µ—Å—Ç—ã Inngest —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ inngest.ts              # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è Inngest —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ mocks/                  # –ú–æ–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ payment/                # –¢–µ—Å—Ç—ã –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ logs/                   # –õ–æ–≥–∏ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ testCases/              # –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
```

## üóÇÔ∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤

–í —Å–∏—Å—Ç–µ–º–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----|----------|
| –í—Å–µ —Ç–µ—Å—Ç—ã | `all` | –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ |
| –ù–µ–π—Ä–æ | `neuro` | –¢–µ—Å—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `database` | –¢–µ—Å—Ç—ã Supabase –∏ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ë–î |
| –í–µ–±—Ö—É–∫–∏ | `webhook` | –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ |
| Inngest | `inngest` | –¢–µ—Å—Ç—ã Inngest —Ñ—É–Ω–∫—Ü–∏–π |
| –ü–ª–∞—Ç–µ–∂–∏ | `payment` | –¢–µ—Å—Ç—ã –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã |
| –†–µ—á—å | `speech` | –¢–µ—Å—Ç—ã –¥–ª—è –∞—É–¥–∏–æ —Ñ—É–Ω–∫—Ü–∏–π |
| API | `api` | –¢–µ—Å—Ç—ã REST API |
| –°–∏—Å—Ç–µ–º–∞ | `system` | –¢–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |

### –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

| –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------------------|--------------|-----|----------|
| –ù–µ–π—Ä–æ | –ù–µ–π—Ä–æ–§–æ—Ç–æ | `neurophoto` | –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ù–µ–π—Ä–æ–§–æ—Ç–æ |
| –ù–µ–π—Ä–æ | –ù–µ–π—Ä–æ–§–æ—Ç–æ V2 | `neurophoto-v2` | –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ù–µ–π—Ä–æ–§–æ—Ç–æ V2 |
| –ù–µ–π—Ä–æ | –¢–µ–∫—Å—Ç-–≤-–≤–∏–¥–µ–æ | `text-to-video` | –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–∫—Å—Ç-–≤-–≤–∏–¥–µ–æ |
| –í–µ–±—Ö—É–∫–∏ | Replicate –í–µ–±—Ö—É–∫ | `replicate-webhook` | –¢–µ—Å—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤ Replicate |
| –í–µ–±—Ö—É–∫–∏ | BFL –í–µ–±—Ö—É–∫ | `bfl-webhook` | –¢–µ—Å—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤ BFL |
| –í–µ–±—Ö—É–∫–∏ | –ù–µ–π—Ä–æ–§–æ—Ç–æ –í–µ–±—Ö—É–∫ | `neurophoto-webhook` | –¢–µ—Å—Ç—ã –≤–µ–±—Ö—É–∫–æ–≤ –ù–µ–π—Ä–æ–§–æ—Ç–æ |
| –†–µ—á—å | –ì–æ–ª–æ—Å–æ–≤–æ–π –∞–≤–∞—Ç–∞—Ä | `voice-avatar` | –¢–µ—Å—Ç—ã –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤ |
| –†–µ—á—å | –¢–µ–∫—Å—Ç-–≤-—Ä–µ—á—å | `text-to-speech` | –¢–µ—Å—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —Ä–µ—á—å |
| Inngest | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π | `model-training` | –¢–µ—Å—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –º–æ–¥–µ–ª–µ–π |
| –°–∏—Å—Ç–µ–º–∞ | –ü–æ—Ä—Ç—ã | `ports` | –¢–µ—Å—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ä—Ç–∞–º–∏ |

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –ß–µ—Ä–µ–∑ NPM —Å–∫—Ä–∏–ø—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm run test:all

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ–π—Ä–æ
npm run test:neuro

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤
npm run test:webhook

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npm run test:database

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ inngest —Ñ—É–Ω–∫—Ü–∏–π
npm run test:inngest

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
npm run test:verbose

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
npm run test:translations
```

### –ß–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ (index.ts)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npx ts-node -r tsconfig-paths/register src/test-utils/index.ts

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ
npx ts-node -r tsconfig-paths/register src/test-utils/index.ts --category=neuro

# –ó–∞–ø—É—Å–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
npx ts-node -r tsconfig-paths/register src/test-utils/index.ts --verbose

# –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
npx ts-node -r tsconfig-paths/register src/test-utils/index.ts --category=neuro,webhook
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|------------|----------|
| `--help` | `-h` | –í—ã–≤–æ–¥ —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| `--verbose` | `-v` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |
| `--category=<cat>` | `-c <cat>` | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `--only=<test>` | `-o <test>` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `--skip=<test>` | `-s <test>` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `--no-exit` | | –ù–µ –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ |

## üîÑ –î–≤–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

1. **–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** (—á–µ—Ä–µ–∑ `runTests.ts`):
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–±—Ä–∏–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ò–º–µ–µ—Ç –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–µ—Ä–æ–≤
   - –õ—É—á—à–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

2. **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** (—á–µ—Ä–µ–∑ `test-runners/test-runner.test.ts`):
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
   - –ò–º–µ–µ—Ç —Å–≤–æ–∏ —Å–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

–û–±–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `index.ts`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –Ω–æ–≤—É—é.

## ‚úÖ –ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞ –≤ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–µ—Ä, –Ω–∞—Å–ª–µ–¥—É—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞:

```typescript
// –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ tests/your-category
import { InngestFunctionTester } from '../../core/InngestFunctionTester'
import { TestDataFactory } from '../../factories/TestDataFactory'

export class MyNewTester extends InngestFunctionTester<MyInput, MyOutput> {
  constructor(options: any = {}) {
    super('my/event', {
      name: '–ú–æ–π —Ç–µ—Å—Ç–µ—Ä',
      ...options,
    })
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
  async testSpecificCase(param: string): Promise<MyOutput> {
    const input = {
      param,
      // –î—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    }
    return this.runTest(input)
  }

  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥
  protected async executeTest(input: MyInput): Promise<MyOutput> {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    // ...
    return result
  }
}
```

2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –≤ `runTests.ts`:

```typescript
// –í src/test-utils/core/runTests.ts

// –î–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç
import { MyNewTester } from '../tests/your-category/MyNewTester'
import { TestCategory, isInCategory } from './categories'

// –í —Ñ—É–Ω–∫—Ü–∏–∏ runTests
export async function runTests(cliArgs: string[] = []): Promise<void> {
  // ...
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
  const shouldRunMyTests = isInCategory(TestCategory.MyCategory, args.category)

  if (shouldRunMyTests) {
    const myTester = new MyNewTester({
      verbose: args.verbose
    })

    runner.addTests([
      {
        name: '–ú–æ–π –Ω–æ–≤—ã–π —Ç–µ—Å—Ç',
        category: '–ú–æ—è–ö–∞—Ç–µ–≥–æ—Ä–∏—è',
        description: '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞',
        run: async () => await myTester.testSpecificCase('—Ç–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä')
      }
    ])
  }
  
  // ...
}
```

3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é:

```typescript
// –í src/test-utils/core/categories.ts
export enum TestCategory {
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏...
  
  // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é
  MyCategory = 'my-category',
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É

```typescript
// –í –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ tests/myTests.test.ts
import { logger } from '@/utils/logger'

export async function runMyTests() {
  try {
    logger.info('–ó–∞–ø—É—Å–∫ –º–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤')
    
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
    
    return { success: true }
  } catch (error) {
    logger.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–æ–∏—Ö —Ç–µ—Å—Ç–æ–≤', error)
    return { success: false, error }
  }
}

// –ó–∞—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏ –≤—ã–∑–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏–∑ test-runner.test.ts
```

## üõ†Ô∏è –û–±—â–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

- –¢–µ—Å—Ç–µ—Ä—ã: `<–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å>Tester.ts` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NeuroPhotoTester.ts`)
- –¢–µ—Å—Ç—ã: `<—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å>-tests.test.ts` –∏–ª–∏ `<—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å>Test.ts` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `database-tests.test.ts`)
- –§–∞–±—Ä–∏–∫–∏: `<–¢–∏–ø>Factory.ts` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TestDataFactory.ts`)
- –ú–æ–∫–∏: `<–∫–æ–º–ø–æ–Ω–µ–Ω—Ç>Mock.ts` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SupabaseMock.ts`)

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞

1. **–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã** —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–Ω—É—Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `tests/`
2. **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `helpers/`
3. **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã** –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `core/`
4. **–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–µ—Ä–æ–≤** —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `testers/`
5. **–§–∞–±—Ä–∏–∫–∏** –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `factories/`

### –ü—Ä–∞–≤–∏–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å JSDoc —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
2. –°–ª–æ–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
3. –ö–∞–∂–¥–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å README.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üöß –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ—Ä—Ç–æ–≤:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–æ–≤
npm run check:ports

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
npm run free:ports
```
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` –≤ `.env.test`:

```bash
cp .env.example .env.test
```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env.test`:

```
NODE_ENV=test
SUPABASE_URL=http://localhost:54321
SUPABASE_SERVICE_KEY=test-service-key
INNGEST_EVENT_KEY=test-key
# –î—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ...
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose -f docker-compose.test.yml up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.test.yml logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose -f docker-compose.test.yml down
```

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤:

```
üèÅ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
‚úÖ –£—Å–ø–µ—à–Ω–æ: 45 —Ç–µ—Å—Ç–æ–≤
‚ùå –û—à–∏–±–∫–∏: 2 —Ç–µ—Å—Ç–∞
‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 12.5 —Å–µ–∫
```

–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

```
‚ùå –û—à–∏–±–∫–∞ –≤ —Ç–µ—Å—Ç–µ "–ù–µ–π—Ä–æ–§–æ—Ç–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–º–ø—Ç–æ–º":
–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç API
Error: Request timeout after 5000ms
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Supabase –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose -f docker-compose.test.yml up -d supabase`

2. **–¢–∞–π–º–∞—É—Ç—ã –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ API**:
   - –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Å–º. `core/config.ts`)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

3. **–û—à–∏–±–∫–∏ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ Inngest —Ñ—É–Ω–∫—Ü–∏–π**:
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π Inngest —Å–µ—Ä–≤–µ—Ä: `npx inngest-cli@latest dev`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Inngest

4. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run check:ports` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–æ–≤
   - –ï—Å–ª–∏ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run free:ports` –¥–ª—è –∏—Ö –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ—Ä—Ç–æ–≤ –≤ `src/config/ports.ts`
   - –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–æ—Ä—Ç–æ–≤

### –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ

1. –î–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥ `--verbose` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `console.log` –∏–ª–∏ –ª–æ–≥–≥–µ—Ä –≤–Ω—É—Ç—Ä–∏ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—ã–≤–æ–¥–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ, —á—Ç–æ–±—ã –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É

## üì¶ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

–¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–µ:

1. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ Pull Request –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
2. –ü—Ä–∏ —Å–ª–∏—è–Ω–∏–∏ –≤ `main` –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤—Å–µ —Ç–µ—Å—Ç—ã
3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions

```yaml
name: Tests

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '16'
      - run: npm ci
      - run: npm run test:all
```

## üîÆ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª–µ [roadmap.md](./roadmap.md), –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è:

1. **–ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É** —Å –º–æ–¥—É–ª—è–º–∏ assert, mock –∏ snapshot
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD –∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
5. **–£–ª—É—á—à–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫–∏
6. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –≤ —Ñ–∞–π–ª–µ roadmap.md, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è.

---

## ü§î –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç—ã** –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –≤–∑–∞–∏–º–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–±—Ä–∏–∫–∏** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–ú–æ–∫–∞–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã—Ö –∏ –Ω–∞–¥–µ–∂–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
4. **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç—ã** –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –ø–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –¥–µ—Ç–∞–ª—è–º
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ** –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏ –µ–≥–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
6. **–†–µ–≥—É–ª—è—Ä–Ω–æ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π
7. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–µ—Å—Ç—ã** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
8. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

**–û—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã?** –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

–î–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –∞—Å—Å–µ—Ä—Ç—ã, –º–æ–∫–∏, —Å–Ω–∞–ø—à–æ—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üß™ **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
- üîç **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞—Å—Å–µ—Ä—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π
- üõ†Ô∏è **–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ** –º–µ—Ç–æ–¥–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π
- üì∏ **–°–Ω–∞–ø—à–æ—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üïí **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞–º–∏** –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- üèùÔ∏è **–ü–µ—Å–æ—á–Ω–∏—Ü–∞** –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- üß∞ **–£–¥–æ–±–Ω—ã–µ —Ö–µ–ª–ø–µ—Ä—ã** –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üìä **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤** –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
import { TestSuite, Test, BeforeAll, AfterAll } from './core/types';
import { expect, testContext } from './core/enhanced';

@TestSuite('My Test Suite')
class MyTests {
  @BeforeAll()
  async setup() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ —Ç–µ—Å—Ç–∞–º–∏
  }

  @Test('should perform a basic test')
  async testBasic() {
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ expect –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π
    expect.toEqual(2 + 2, 4, 'Math should work');
    expect.toBeTrue(true, 'True should be true');
  }

  @Test('should handle async operations')
  async testAsync() {
    // –¢–µ—Å—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    const result = await expect.toResolve(
      Promise.resolve(42)
    );
    expect.toEqual(result, 42);
  }

  @AfterAll()
  async teardown() {
    // –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
  }
}
```

## –ú–æ–¥—É–ª–∏

### Assert (–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)

–ú–æ–¥—É–ª—å `assert` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π:

```typescript
import { assert } from './core/enhanced';

// –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
assert.isTrue(value);
assert.isFalse(value);
assert.equal(actual, expected);
assert.notEqual(actual, expected);

// –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä–æ–∫ –∏ –º–∞—Å—Å–∏–≤–æ–≤
assert.contains('Hello, world!', 'world');
assert.includes([1, 2, 3], 2);

// –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
assert.throws(() => { throw new Error() });
assert.doesNotThrow(() => { /* code */ });

// –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤
await assert.resolves(promise);
await assert.rejects(promise, ErrorType);
```

### Mock (–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ)

–ú–æ–¥—É–ª—å `mock` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Ñ—É–Ω–∫—Ü–∏–π:

```typescript
import { mock } from './core/enhanced';

// –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –æ–±—ä–µ–∫—Ç–∞
const mockMethod = mock.method(obj, 'methodName', {
  returnValue: 42  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
});

// –ò–ª–∏ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
mock.method(obj, 'methodName', {
  implementation: (arg1, arg2) => arg1 + arg2
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑–æ–≤–æ–≤
console.log(mockMethod.called);         // –ë—ã–ª –ª–∏ –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥
console.log(mockMethod.callCount);      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤
console.log(mockMethod.callHistory);    // –ò—Å—Ç–æ—Ä–∏—è –≤—ã–∑–æ–≤–æ–≤ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
console.log(mockMethod.calledWith(1, 2)); // –ë—ã–ª –ª–∏ –≤—ã–∑–≤–∞–Ω —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
mock.restore(obj);  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –º–æ–∫–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞
mock.restore();     // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –º–æ–∫–∏
```

### Snapshot (–°–Ω–∞–ø—à–æ—Ç—ã)

–ú–æ–¥—É–ª—å `snapshot` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–Ω–∞–ø—à–æ—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```typescript
import { snapshot } from './core/enhanced';

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å–æ —Å–Ω–∞–ø—à–æ—Ç–æ–º
snapshot.toMatchSnapshot('snapshot-name', myObject);

// –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞—Å—Ç —Å–Ω–∞–ø—à–æ—Ç
// –ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö –±—É–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º —Å–Ω–∞–ø—à–æ—Ç–æ–º

// –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–Ω–∞–ø—à–æ—Ç–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è:
// UPDATE_SNAPSHOTS=true npm test
```

### TestContext (–ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ—Å—Ç–æ–≤)
