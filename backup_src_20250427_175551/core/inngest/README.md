# üöÄ Inngest Integration Guide

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–¢–∏–ø–æ–≤—ã–µ –æ—à–∏–±–∫–∏](#—Ç–∏–ø–æ–≤—ã–µ-–æ—à–∏–±–∫–∏)
4. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
```bash
pnpm install @inngest/express express
```

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```typescript
import { Inngest } from '@inngest/express'
import { serve } from '@inngest/express'
import express from 'express'

// –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç
const inngest = new Inngest({ id: 'neuro-blogger-2.0' })
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/core/inngest/
‚îú‚îÄ‚îÄ clients.ts                    # –ö–ª–∏–µ–Ω—Ç—ã Inngest
‚îú‚îÄ‚îÄ functions.ts                  # –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ serve.ts                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ __tests__/                   # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ services/                    # –°–µ—Ä–≤–∏—Å—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    ‚îú‚îÄ‚îÄ payment/                 # –ü–ª–∞—Ç–µ–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    ‚îú‚îÄ‚îÄ generation/             # –§—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ notifications/          # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- `createVoiceAvatar.inngest.ts` - –°–æ–∑–¥–∞–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
- `imageToVideo.inngest.ts` - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≤–∏–¥–µ–æ
- `neuroImageGeneration.ts` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
- `paymentProcessor.ts` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- `textToImage.inngest.ts` - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `textToSpeech.inngest.ts` - –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞
- `textToVideo.inngest.ts` - –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∏–∑ —Ç–µ–∫—Å—Ç–∞
- `voiceToText.inngest.ts` - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏

## –¢–∏–ø–æ–≤—ã–µ –æ—à–∏–±–∫–∏

### 1. TypeError: Inngest is not a constructor
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç Inngest
```typescript
import { Inngest } from 'inngest' // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç
```typescript
import { Inngest } from '@inngest/express' // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

### 2. Address already in use (EADDRINUSE)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Ä—Ç 8288 –∏–ª–∏ 8289 —É–∂–µ –∑–∞–Ω—è—Ç
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ —ç—Ç–∏—Ö –ø–æ—Ä—Ç–∞—Ö:
```bash
lsof -i :8288
lsof -i :8289
kill -9 <PID>
```
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ—Ä—Ç—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 3. –û—à–∏–±–∫–∏ —Å —Ç–∏–ø–∞–º–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–±—ã—Ç–∏—è—Ö
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã:
```typescript
interface PaymentEvent {
  name: 'payment.created'
  data: {
    amount: number
    userId: string
  }
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
```typescript
export const processPayment = inngest.createFunction(
  { id: 'process-payment' },
  { event: 'payment.created' },
  async ({ event, step }) => {
    await step.run('process', async () => {
      // –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞
    })
    return { success: true }
  }
)
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è
```typescript
await inngest.send({
  name: 'payment.created',
  data: { 
    amount: 100,
    userId: 'user123'
  }
})
```

## –ó–∞–ø—É—Å–∫ Dev —Å–µ—Ä–≤–µ—Ä–∞
```bash
npx inngest-cli@latest dev -u http://localhost:3001/api/inngest
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Dev Dashboard: http://localhost:8288
- –õ–æ–≥–∏: http://localhost:8288/logs 